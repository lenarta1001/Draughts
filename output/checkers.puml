' Generated by UML Generator
' Encoded: tHbTSoEtxLs_OcVkPLLBcKuUDSbDR9tTqwNsUMfFyj3f0xLBIwnNv8Qa93jf_di8y9kxSdntdUbSNwmb0880Y0y2_a5f8lL-rqtK8-CzaMHNDHrHwbnhoTPxJLUDu7ViLrhzTR9bBQqQ9fkEJYP8LPttVVNRfAhEVZECD6j-htQ4yPh8ZLfKTuO5t_ppNzD5TH2idVpkT_sDxEXIS2r5rr693EOxqT9kWIXOpe5fJbSd95D0xyHUqMN7caVQrdHHNSFwya2vzYSQHbl2syvJtGh6TTqJxldSmkUiakAug0ngLZMYmw-1pDT6hvyPRyNnxqnfoeFS1dvbp0Rd-y-Wm71JFKQFsXoHRja9POm6wjYDcJv1cWj1P6i5KB_iYQJ6tBUCDl5efAYHCrENkru_rxsX4LQtjH0T9JoxEQPMN9ahjZl7YHNLU4pTmrztvgnAY9tTppQ1CkAyXCcP_42bTjUI4C8lYiwPTff4rc6tLVrclrjJUIN5Ri37SGaRUe03vLsoiqxP-CiF4XWzhYYl-uuyKtalhiK1rCRLrBjul9Shrj4h8NT4NpurjDTCS1iV8uXwHvKY6-gvJ5z9PvoK64TVLFTRuxTatHd_oKBB-iKQpBQmdWBhCGqY_4Re4PIa1sQ22k36mS27luFljuWqZWhYBSMUQuDzJzJsclJVUI5NNDCDbKZBnQqnka1oqkkzfBZBcHieh2FGDlMskThtlP3QY2H5Rz3FInFD6tfdmTNt5QV7SLojjqnDiqGoUeN6TSVLdteVJZQ13mRZH6JOEy07p_MN0C2LqxGUH5R038oHnvNNSNh2C416sZR7XGJKDrsvp-EIOvW2ctqqSXHoClLEacCfF5IHD4IRBMqULu77HpcooNBw1-sfHaSQHTyCFASaCna2hpSz7P2h4SHHCath1nDZDvY1NU150dKalRr2bUxRzotH5BZTcKn2JIKwOBqvq8H8KjA-n9i-qSOKLAz6OtyNbGESfBoZl-mfRy8ElmuxFM38uGOoIOU-oSFdeehWGM5PxS23xamnslmivEEVLRbEaDQGlcEa4nkJ8T9bJ2u-TrZBOaO0EoqmNOOW7HmzMYjdrKjd-dWkJfnLyJo8x3UjMF4BqZnkfCb368hkuM4mFBfCD0i_a8wrOB8YiOzXHZFxQmXVJEtkjksnteiUJ7IuQZMhj0YVQVR7uxMmHzInQc6GNPlt4T52FXTnvJoetg3vySqrSAywEoL1cuBQgTf8yt7zRzeKRuWMKi6cJnvW0tCNZcrzqBc_lrf7ypRupubmAUb7R6DogiDYr9ViJzZkVsGXibPQaaPNxbrg_0djyoPn1LW6Pu15xvDeLb_1R6ymExpQZU0vP6ZhuebqBp88Ko5hroTUcv12yILcBGjB-nbZeR0T2FgbTZ_jxoVk-4izEQPQ6xT9Hlu_3Lse_AvidBb5RRegiJUFlIN-uhiCas68kbIQcNsc1tlOLwXQZeVpIBnQtj7IBx6V5i_Qiv2aFsdN-1KDpJMhdboZ-JpUPlvejbhRmTU8uSx-MuRp-BrwnwIvQKmEcNPf2lmgJLgaIcm_NIt9x8frlp12o8-sYnsv2AWQk0890wDKMmqL_7NQVeQhBCMkDv4ixHl71Lm66vFQpaFkzv8d-M5MZRve1Vze6WfEkGPwuDrHw4z64miq9j06dEXlrlH1I7h5fDB5uGF5tkztXATQ9O2lJgNI1wDQGoTq3dTIqJ_tk4o4Kr5uhZCxlUYNNu6xN3v1ts3V_zQmFT7RAqOxasa-tDCdZT--wu3kR1IfQ6So06rjEZHbDVOdZU0FJEwIZhpwldemXJ9sBwaKjJXoc6s4uTuSkbGm25edRItdpLO8HSEPAGflpBIRAsvYUj0TBxrC1GOCwpG1yG6BQcGZ8immeuFNpRVcMv9-onhrxRlKBhU9dyJ18yo6mnGd35kGVpgmdLMRR9YxA8R0qq9qEyfBtvIgH8x95QttfZSTOxHvlObg9IQ6j7iFMRekW9ZrrJd7Y7dFDjkERRABmumTtZVsT-5VFwTojzk6fVqHtxe_ualt97MVpMbgUXWCmufvjnNhymS7BSvSNZaro8yxET48dfUrwZQrPw0YRhBPEyAinyPSW06qbzAO08liRJ7PpmRno04dulD6KXDN7wuftryGpAR-6nrxAuutz0XSd5o9Sq0aEsJD55QcYuuqZo46PnLJFobVY4T6UEvqFsRwH2Rb8CKcQ3ixgUEK0nXyZd1sb8VQSQlb87FR4o-VcCxoc4r7vyte02HhEpq3FyGiEgRKyh5GIYFqshGb7_3tGZovGJCQGRYwyn8DGnDXW085_1eANnLkJvMCbrE_IZ9jCSxAFUYJAuBFtLzM39Z2-nz0emyCKCwLNbrKYd_c_MK-jw5PmB_vvcqIboF_JOEDSRPe_y45CFjF8xi69cx2Zl_e0BoThOTbYXR04gO6k8BDBZCD03uJHaJCTfFXJ3INTHoVpqA7D28AEqHwQqtyq6y-_yzRguk734W0O8rHabYRbqCrPEaDKY91kbEuykGCaKamsE9k7yOXaJWiKR-mmYEobTsTZ5IYLH9Ws5l0x64ZXCuyRd21FAtJUL2YLmA9Mx5fJ_RXEcuAoxZ3jgAH9AuJWVB-plAt3bEWueKCuMYTjADA-QJmmAG48eUIgCJ7HsMM02m80yrQhe22QKh2aOYCs2GiHxSLq3m9JU938aWv15dh_q1vkzzrVm0
' URL: http://www.plantuml.com/plantuml/uml/tHbTSoEtxLs_OcVkPLLBcKuUDSbDR9tTqwNsUMfFyj3f0xLBIwnNv8Qa93jf_di8y9kxSdntdUbSNwmb0880Y0y2_a5f8lL-rqtK8-CzaMHNDHrHwbnhoTPxJLUDu7ViLrhzTR9bBQqQ9fkEJYP8LPttVVNRfAhEVZECD6j-htQ4yPh8ZLfKTuO5t_ppNzD5TH2idVpkT_sDxEXIS2r5rr693EOxqT9kWIXOpe5fJbSd95D0xyHUqMN7caVQrdHHNSFwya2vzYSQHbl2syvJtGh6TTqJxldSmkUiakAug0ngLZMYmw-1pDT6hvyPRyNnxqnfoeFS1dvbp0Rd-y-Wm71JFKQFsXoHRja9POm6wjYDcJv1cWj1P6i5KB_iYQJ6tBUCDl5efAYHCrENkru_rxsX4LQtjH0T9JoxEQPMN9ahjZl7YHNLU4pTmrztvgnAY9tTppQ1CkAyXCcP_42bTjUI4C8lYiwPTff4rc6tLVrclrjJUIN5Ri37SGaRUe03vLsoiqxP-CiF4XWzhYYl-uuyKtalhiK1rCRLrBjul9Shrj4h8NT4NpurjDTCS1iV8uXwHvKY6-gvJ5z9PvoK64TVLFTRuxTatHd_oKBB-iKQpBQmdWBhCGqY_4Re4PIa1sQ22k36mS27luFljuWqZWhYBSMUQuDzJzJsclJVUI5NNDCDbKZBnQqnka1oqkkzfBZBcHieh2FGDlMskThtlP3QY2H5Rz3FInFD6tfdmTNt5QV7SLojjqnDiqGoUeN6TSVLdteVJZQ13mRZH6JOEy07p_MN0C2LqxGUH5R038oHnvNNSNh2C416sZR7XGJKDrsvp-EIOvW2ctqqSXHoClLEacCfF5IHD4IRBMqULu77HpcooNBw1-sfHaSQHTyCFASaCna2hpSz7P2h4SHHCath1nDZDvY1NU150dKalRr2bUxRzotH5BZTcKn2JIKwOBqvq8H8KjA-n9i-qSOKLAz6OtyNbGESfBoZl-mfRy8ElmuxFM38uGOoIOU-oSFdeehWGM5PxS23xamnslmivEEVLRbEaDQGlcEa4nkJ8T9bJ2u-TrZBOaO0EoqmNOOW7HmzMYjdrKjd-dWkJfnLyJo8x3UjMF4BqZnkfCb368hkuM4mFBfCD0i_a8wrOB8YiOzXHZFxQmXVJEtkjksnteiUJ7IuQZMhj0YVQVR7uxMmHzInQc6GNPlt4T52FXTnvJoetg3vySqrSAywEoL1cuBQgTf8yt7zRzeKRuWMKi6cJnvW0tCNZcrzqBc_lrf7ypRupubmAUb7R6DogiDYr9ViJzZkVsGXibPQaaPNxbrg_0djyoPn1LW6Pu15xvDeLb_1R6ymExpQZU0vP6ZhuebqBp88Ko5hroTUcv12yILcBGjB-nbZeR0T2FgbTZ_jxoVk-4izEQPQ6xT9Hlu_3Lse_AvidBb5RRegiJUFlIN-uhiCas68kbIQcNsc1tlOLwXQZeVpIBnQtj7IBx6V5i_Qiv2aFsdN-1KDpJMhdboZ-JpUPlvejbhRmTU8uSx-MuRp-BrwnwIvQKmEcNPf2lmgJLgaIcm_NIt9x8frlp12o8-sYnsv2AWQk0890wDKMmqL_7NQVeQhBCMkDv4ixHl71Lm66vFQpaFkzv8d-M5MZRve1Vze6WfEkGPwuDrHw4z64miq9j06dEXlrlH1I7h5fDB5uGF5tkztXATQ9O2lJgNI1wDQGoTq3dTIqJ_tk4o4Kr5uhZCxlUYNNu6xN3v1ts3V_zQmFT7RAqOxasa-tDCdZT--wu3kR1IfQ6So06rjEZHbDVOdZU0FJEwIZhpwldemXJ9sBwaKjJXoc6s4uTuSkbGm25edRItdpLO8HSEPAGflpBIRAsvYUj0TBxrC1GOCwpG1yG6BQcGZ8immeuFNpRVcMv9-onhrxRlKBhU9dyJ18yo6mnGd35kGVpgmdLMRR9YxA8R0qq9qEyfBtvIgH8x95QttfZSTOxHvlObg9IQ6j7iFMRekW9ZrrJd7Y7dFDjkERRABmumTtZVsT-5VFwTojzk6fVqHtxe_ualt97MVpMbgUXWCmufvjnNhymS7BSvSNZaro8yxET48dfUrwZQrPw0YRhBPEyAinyPSW06qbzAO08liRJ7PpmRno04dulD6KXDN7wuftryGpAR-6nrxAuutz0XSd5o9Sq0aEsJD55QcYuuqZo46PnLJFobVY4T6UEvqFsRwH2Rb8CKcQ3ixgUEK0nXyZd1sb8VQSQlb87FR4o-VcCxoc4r7vyte02HhEpq3FyGiEgRKyh5GIYFqshGb7_3tGZovGJCQGRYwyn8DGnDXW085_1eANnLkJvMCbrE_IZ9jCSxAFUYJAuBFtLzM39Z2-nz0emyCKCwLNbrKYd_c_MK-jw5PmB_vvcqIboF_JOEDSRPe_y45CFjF8xi69cx2Zl_e0BoThOTbYXR04gO6k8BDBZCD03uJHaJCTfFXJ3INTHoVpqA7D28AEqHwQqtyq6y-_yzRguk734W0O8rHabYRbqCrPEaDKY91kbEuykGCaKamsE9k7yOXaJWiKR-mmYEobTsTZ5IYLH9Ws5l0x64ZXCuyRd21FAtJUL2YLmA9Mx5fJ_RXEcuAoxZ3jgAH9AuJWVB-plAt3bEWueKCuMYTjADA-QJmmAG48eUIgCJ7HsMM02m80yrQhe22QKh2aOYCs2GiHxSLq3m9JU938aWv15dh_q1vkzzrVm0
' Generated on: 2025-12-02T11:26:13.907778100

@startuml
skinparam classAttributeIconSize 0
hide circle

class App {
  +{static} main(args: String[]): void
}

class GameController {
  -model: Game
  --
  +GameController(model: Game)
  +mouseClicked(e: MouseEvent): void
  -handleClickedPoint(panel: GamePanel, row: int, col: int): void
}

class MainWindowListener {
  -mainFrame: MainFrame
  --
  +MainWindowListener(mainFrame: MainFrame)
  +windowClosing(e: WindowEvent): void
}

class Board {
  -squares: Piece
  --
  +Board()
  +isEmpty(p: Point): boolean
  +{static} isInsideBoard(p: Point): boolean
  +setPiece(piece: Piece, p: Point): void
  +getPiece(p: Point): Piece
  +{static} invertPoint(p: Point): Point
  +initBoard(): void
  +{static} squareNumberFromPoint(p: Point): int
  +{static} pointFromSquareNumber(squareNumber: int): Point
  +getFen(playerToMove: Player): String
}

class FileFormatException {
  +FileFormatException(message: String)
  +FileFormatException(message: String, cause: Throwable)
}

class Game {
  -board: Board
  -playerToMove: Player
  -playerNotToMove: Player
  -previousMoves: List<Move>
  -positionCounts: HashMap<String, Integer>
  -noPromotionCaptureCounter: int
  -inverted: boolean
  -support: PropertyChangeSupport = new PropertyChangeSupport(this)
  --
  +Game(playerToMove: Player, playerNotToMove: Player)
  +getPlayerToMove(): Player
  +getPlayerNotToMove(): Player
  +getBoard(): Board
  +getInverted(): boolean
  +setInverted(inverted: boolean): void
  +getSupport(): PropertyChangeSupport
  +addPropertyChangeListener(pcl: PropertyChangeListener): void
  +isGameOver(): boolean
  +isDraw(): boolean
  +start(): void
  +checkIsGameOverOrDraw(): boolean
  +isDrawRepetition(): boolean
  +isDrawNoPromotionCapture(): boolean
  +initGame(): void
  +cleanInitGame(): void
  +write(fileName: String): void
  +swapPlayers(): void
  +updateGameState(move: Move): void
  +read(fileName: String): void
  +executeCapture(capture: Capture): void
  +executeCaptureSequence(captureSequence: CaptureSequence): void
  +executeNormalMove(normalMove: NormalMove): void
}

class ImportSwingWorker {
  -mainFrame: MainFrame
  -loadingDialog: LoadingDialog
  -players: List<Player>
  -file: File
  --
  +ImportSwingWorker(mainFrame: MainFrame, loadingDialog: LoadingDialog, players: List<Player>, file: File)
  #doInBackground(): Game
  #done(): void
}

class InvalidMoveException {
  +InvalidMoveException(message: String)
  +InvalidMoveException(message: String, cause: Throwable)
}

class Capture {
  +Capture(from: Point, to: Point, board: Board)
  +toString(): String
  +isMandatory(): boolean
  +execute(game: Game): void
  +execute(board: Board): void
  +equals(o: Object): boolean
  +draw(gp: GamePanel): void
}

class CaptureSequence {
  -captures: List<Capture>
  --
  +CaptureSequence(captures: List<Capture>, board: Board)
  +getCaptures(): List<Capture>
  +toString(): String
  +execute(game: Game): void
  +execute(board: Board): void
  +equals(o: Object): boolean
  +draw(gp: GamePanel): void
}

abstract class Move {
  #from: Point
  #to: Point
  #promotion: boolean
  --
  #Move(from: Point, to: Point, board: Board)
  +getFrom(): Point
  +getTo(): Point
  +isPromotion(): boolean
  +{static} moveFromString(moveString: String, board: Board): Move
  +execute(game: Game): void
  +execute(board: Board): void
  +isMandatory(): boolean
  +toString(): String
  +equals(o: Object): boolean
  +draw(gp: GamePanel): void
}

class NormalMove {
  +NormalMove(from: Point, to: Point, board: Board)
  +toString(): String
  +isMandatory(): boolean
  +execute(game: Game): void
  +execute(board: Board): void
  +equals(o: Object): boolean
  +draw(gp: GamePanel): void
}

class Checker {
  +Checker(colour: Colour)
  -validCaptures(board: Board, point: Point, previosCaptures: List<Capture>): List<Capture>
  -validNormalMoves(board: Board, point: Point): List<Move>
  +validMoves(board: Board, point: Point): List<Move>
  +toString(): String
  +draw(gp: GamePanel, x: int, y: int): void
}

class King {
  +King(colour: Colour)
  +validCaptures(board: Board, point: Point, previosCaptures: List<Capture>, previousDirection: Point): List<Capture>
  +validNormalMoves(board: Board, point: Point): List<Move>
  +validMoves(board: Board, point: Point): List<Move>
  +toString(): String
  +draw(gp: GamePanel, x: int, y: int): void
}

abstract class Piece {
  -colour: Colour
  #direction: Point
  --
  #Piece(colour: Colour)
  +getColour(): Colour
  +validMoves(table: Board, point: Point): List<Move>
  +draw(gp: GamePanel, x: int, y: int): void
}

class ComputerPlayer {
  +ComputerPlayer(colour: Colour)
  +handleTurn(game: Game, move: Move): void
  +onOpponentTurnCompleted(game: Game): void
  +getStartInverted(): boolean
  +beforeFirstTurn(game: Game): void
}

class HumanPlayer {
  +HumanPlayer(colour: Colour)
  +handleTurn(game: Game, move: Move): void
  +onOpponentTurnCompleted(game: Game): void
  +getStartInverted(): boolean
  +beforeFirstTurn(game: Game): void
}

abstract class Player {
  -colour: Colour
  --
  #Player(colour: Colour)
  +getColour(): Colour
  +validMoves(game: Game): List<Move>
  +validMovesAt(game: Game, point: Point): List<Move>
  +handleTurn(game: Game, move: Move): void
  +onOpponentTurnCompleted(game: Game): void
  +getStartInverted(): boolean
  +beforeFirstTurn(game: Game): void
}

class ExportDialog {
  -pathField: JTextField
  -fileNameField: JTextField
  -selectedDirectory: File
  -confirmed: boolean = false
  --
  +ExportDialog(owner: Frame)
  -initComponents(): void
  -chooseDirectory(): void
  -validateInput(): boolean
  +isConfirmed(): boolean
  +getSelectedFile(): File
}

class GamePanel {
  -model: Game
  -g2: Graphics2D
  -selectedPoint: Point
  -squareSize: int
  --
  +GamePanel(model: Game, gameController: GameController)
  +getSelectedPoint(): Point
  +setSelectedPoint(selectedPoint: Point): void
  #paintComponent(g: Graphics): void
  -drawTable(): void
  -drawPiecesAndMoveHighligts(): void
  +drawChecker(checker: Checker, x: int, y: int): void
  +drawKing(king: King, x: int, y: int): void
  +propertyChange(evt: PropertyChangeEvent): void
  +drawCaptureSequence(captureSequence: CaptureSequence): void
  +drawNormalMove(normalMove: NormalMove): void
  +drawCapture(capture: Capture): void
}

class LoadingDialog {
  +LoadingDialog(owner: Frame)
}

class MainFrame {
  -game: Game
  -currentBoardPanel: GamePanel
  --
  +MainFrame()
  -createJMenuBar(): JMenuBar
  -showNewGameDialog(): void
  -initNewGame(isHumanBlack: boolean, isVsComputer: boolean): void
  -createPlayers(isHumanBlack: boolean, isVsComputer: boolean): List<Player>
  -handleImport(file: File, isHumanBlack: boolean, isVsComputer: boolean): void
  +startGame(newGame: Game): void
  +handleExit(): void
  -confirmAction(message: String): boolean
  -handleExport(): void
}

class NewGameDialog {
  -colorCombo: JComboBox<String>
  -opponentCombo: JComboBox<String>
  -importCheck: JCheckBox
  -filePathField: JTextField
  -confirmed: boolean = false
  -selectedFile: File
  --
  +NewGameDialog(owner: Frame)
  -initComponents(): void
  -chooseFile(): void
  -validateInput(): boolean
  +isConfirmed(): boolean
  +isBlack(): boolean
  +isVsComputer(): boolean
  +isImport(): boolean
  +getSelectedFile(): File
}

GameController *-- Game
GameController ..> GamePanel
MainWindowListener *-- MainFrame
Board *-- Piece
Board ..> Player
Game *-- Board
Game *-- Player
Game o-- Move
Game ..> Capture
Game ..> CaptureSequence
Game ..> NormalMove
ImportSwingWorker *-- MainFrame
ImportSwingWorker *-- LoadingDialog
ImportSwingWorker o-- Player
ImportSwingWorker ..> Game
Capture --|> Move
Capture ..> Game
Capture ..> Board
Capture ..> GamePanel
CaptureSequence --|> Capture
CaptureSequence o-- Capture
CaptureSequence ..> Game
CaptureSequence ..> Board
CaptureSequence ..> GamePanel
Move ..> Board
Move ..> Move
Move ..> Game
Move ..> GamePanel
NormalMove --|> Move
NormalMove ..> Game
NormalMove ..> Board
NormalMove ..> GamePanel
Checker --|> Piece
Checker ..> Board
Checker ..> GamePanel
King --|> Piece
King ..> Board
King ..> GamePanel
Piece ..> Board
Piece ..> GamePanel
ComputerPlayer --|> Player
ComputerPlayer ..> Game
ComputerPlayer ..> Move
HumanPlayer --|> Player
HumanPlayer ..> Game
HumanPlayer ..> Move
Player ..> Game
Player ..> Move
GamePanel *-- Game
GamePanel ..> Checker
GamePanel ..> King
GamePanel ..> CaptureSequence
GamePanel ..> NormalMove
GamePanel ..> Capture
GamePanel ..> GameController
MainFrame *-- Game
MainFrame *-- GamePanel
@enduml